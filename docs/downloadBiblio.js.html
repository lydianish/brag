<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: downloadBiblio.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: downloadBiblio.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as FileSaver from 'file-saver';

const endOfLine = '\r\n';

/** la fonction downloadBiblioMLA permet le téléchargement du document de format MLA détaillant la bibliographie de l'auteur
*@param {string} filename - nom du fichier
*@param {Object} articles - liste des articles
*@param {Object} hIndex - h-index
*@param {Object} citationCount - nombre de citations totales
*/
export function downloadBiblioMLA (filename,articles,hIndex,citationCount) {
    downloadBiblio(filename,articles,hIndex,citationCount,writeArticleMLA)
}

/** la fonction downloadBiblioVCV permet le téléchargement du document de format Vancouver détaillant la bibliographie de l'auteur
*@param {string} filename - nom du fichier
*@param {Object} articles - liste des articles
*@param {Object} hIndex - h-index
*@param {Object} citationCount - nombre de citations totales
*/
export function downloadBiblioVCV (filename,articles,hIndex,citationCount) {
    downloadBiblio(filename,articles,hIndex,citationCount,writeArticleVCV)
}

function downloadBiblio (filename,articles,hIndex,citationCount, writeArticle) {

    var listeArticles = articles;
    var data = "Articles"+endOfLine+"NB: Impact factors [IF] and citation number as reported on "+date()+" (source Google Scholar)"+endOfLine;
    data = data+"Total citations = "+citationCount+" | h-index = "+hIndex+endOfLine+endOfLine;
   for (var i = 0; i &lt; listeArticles.length; i++){
        data = data +(i+1)+".  "+writeArticle(listeArticles[i])+endOfLine+endOfLine;
    }
    downloadFile(data, filename);
}

/** la fonction writeArticleMLA transforme le contenu d'un objet article en citation MLA pour pouvoir l'écrire dans un document texte.
*@param {Object} article - object contenant les données sur un article
*@returns {string} aAficher - chaine de caractères décrivant l'article dans le format MLA
*/
export function writeArticleMLA (article)
{
var aAfficher = article.authors[0].lastName + ", " + article.authors[0].foreName + ", et al.";
  aAfficher = aAfficher+' "'+article.title +'." '+article.journal.title +' ';
  aAfficher = aAfficher+article.journal.volume+"."+article.journal.issue+" ("+article.journal.year+"): "+article.pagination;
  aAfficher = aAfficher+"(IF="+article.journal.impactFactor+"; "+article.citationCount+" citations).";
return aAfficher;
}

/** la fonction writeArticleVCV transforme le contenu d'un objet article en citation Vancouver pour pouvoir l'écrire dans un document texte.
*@param {Object} article - object contenant les données sur un article
*@returns {string} aAficher - chaine de caractères décrivant l'article dans le format Vancouver
*/
export function writeArticleVCV (article)
{
    var aAfficher = "";
    var listAuthors = article.authors;
    for (var i = 0; i &lt; listAuthors.length; i++){
        aAfficher = aAfficher+" "+listAuthors[i].lastName+" "+listAuthors[i].foreName[0];
        if (i!=(listAuthors.length-1)){aAfficher = aAfficher+","; }
        else {aAfficher = aAfficher+". ";}
        }
    aAfficher = aAfficher+article.title +". "+article.journal.title +", "+article.journal.year+"; ";
    aAfficher = aAfficher+article.journal.volume+"("+article.journal.issue+"):" +article.pagination ;
    aAfficher = aAfficher+"(IF="+article.journal.impactFactor+"; "+article.citationCount+" citations).";
    return aAfficher;
}


function downloadFile (data, filename) {
    const blob = new Blob([data], {type: "text/plain;charset=utf-8"});
    FileSaver.saveAs(blob, filename);
}

/** la fonction date donne la date du jour
*@returns {string} date - la date du jour
*/
function date()
{
     // les noms de mois
     var mois = new Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");

     // on recupere la date

     var date = new Date();

     // on construit le message

     var message = mois[date.getMonth()] + " ";   // nom du mois
     message += date.getDate() + "th, ";   // numero du jour
     message += date.getFullYear();
     return message;

}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#articleCitationCount">articleCitationCount</a></li><li><a href="global.html#crossArticleLists">crossArticleLists</a></li><li><a href="global.html#date">date</a></li><li><a href="global.html#downloadBiblioBib">downloadBiblioBib</a></li><li><a href="global.html#downloadBiblioMLA">downloadBiblioMLA</a></li><li><a href="global.html#downloadBiblioVCV">downloadBiblioVCV</a></li><li><a href="global.html#impactFactor">impactFactor</a></li><li><a href="global.html#searchAuthorGS">searchAuthorGS</a></li><li><a href="global.html#searchAuthorPM">searchAuthorPM</a></li><li><a href="global.html#sortArticles">sortArticles</a></li><li><a href="global.html#transform">transform</a></li><li><a href="global.html#transformArticle">transformArticle</a></li><li><a href="global.html#transformAuthor">transformAuthor</a></li><li><a href="global.html#writeArticleBib">writeArticleBib</a></li><li><a href="global.html#writeArticleMLA">writeArticleMLA</a></li><li><a href="global.html#writeArticleVCV">writeArticleVCV</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Dec 21 2018 15:01:45 GMT+0100 (Paris, Madrid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
